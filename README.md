# 格式转换软件

**格式转换软件**(`format_conversion`)是一款旨在帮助用户进行常见的文件格式转换软件，提供以下的工具：

1. **图片格式转换**: 可以将图片类型进转换，支持JPEG、BMP、PNG、GIF和TIFF格式等常见图像格式互相转换。
2. **视频帧提取**: 可以指定每秒抽取的图像帧率，软件会平均的对视频进行抽帧提取为指定格式的图片。
3. **二进制文件转图片**: 可以根据指定的尺寸、数据类型和参数设置，将二进制文件转换为指定格式的图片。
4. **图片转二进制文件**: 可以将图片转换为二进制文件，软件会自动分析图像的尺寸和数据类型并进行转换。

> 📌 当前版本：`v1.5` ｜ 🆕 [查看更新日志 »](#更新日志)

---

## 使用指南

1. 安装所需python包

2. 在 `settings` 文件夹与 `config.py` 文件内配置自己所需的参数

3. 运行程序或打包为软件

### 运行程序

在项目主目录下打开终端，使用以下命名快速运行程序

```bash
python main.py
```

### 软件打包

在项目主目录下打开终端，使用以下命名快速打包软件（需包含所需python包）

```bash
pyinstaller -F -w -i settings/xey.ico main.py
```

打包成功后，软件位于 `dist/main.exe` 

---

## 功能特点

- 区分工作线程：程序运行操作在工作线程内，防止主界面卡死
- 模块解耦设计：各核心功能高内聚低耦合，便于功能拓展与单独测试
- 功能模块独立：功能模块划分明确，采用独立页面设计，提升界面整洁性、用户操作体验与可维护性
- 文件全局导入：一件全局导入待处理文件夹，支持各功能模块使用
- 批量处理能力：支持批量任务导入与处理，适配大规模数据或重复性任务
- 配置持久化：支持用户配置自动保存与加载，提升使用连贯性
- 异常稳定处理：关键操作加入异常捕获机制，防止程序崩溃并提供错误提示
- 多平台兼容性：采用跨平台设计理念，适配 Windows、Linux 等操作系统
- 服务器交互支持：集成客户端与服务器通信模块，支持自动更新、问题反馈等功能，提升系统可维护性与用户体验
  - 软件自动更新：编写了自动版本检测与自动更新模块，通过服务器配置，可实现软件自动更新
  - 问题反馈机制：内置问题反馈通道，支持用户提交异常日志或使用建议，便于持续迭代优化
- 界面美观易用：基于 PyQt 构建的现代化界面，采用模块化布局与统一配色方案，支持不同分辨率显示器，带来良好的桌面级使用体验

---

## 项目结构

```
format_conversion/
├── .gitignore    
├── CHANGELOG.md  # 更新日志  
├── README.md     
├── config.py  # 配置函数文件，包含配置文件的初始化与配置文件的读取和写入
├── core/  # 核心功能模块 
│   ├── __init__.py
│   ├── bin_to_image.py  # bin文件转图片
│   ├── image_convert.py  # 图片格式转换
│   ├── image_to_bin.py  # 图片转bin文件
│   └── video_to_image.py  # 视频抽帧
├── main.py  # 主程序文件
├── network/
│   ├── __init__.py
│   ├── server_connect.py  # 服务器交互相关函数
│   └── software_update.py  # 软件自动更新相关函数
├── settings/
│   ├── .secret.toml  # 服务器信息配置
│   ├── bin_setting.toml  # bin文件格式参数配置
│   ├── qt_material_theme.toml  # 软件样式信息
│   ├── software_infos.toml  # 软件版本信息
│   └── xey.ico  # 图标
├── threads/
│   ├── __init__.py
│   └── work_thread.py  # 工作线程，各转换功能的实现
├── ui/  # ui界面相关文件
│   ├── __init__.py
│   ├── bin_settings.py
│   ├── bin_settings.ui
│   ├── convent_ware.py
│   ├── convent_ware.ui
│   ├── feedback.py
│   ├── feedback.ui
│   └── main/
│       ├── __init__.py
│       ├── bin_setting_main.py  # bin文件参数设置窗口的实现
│       ├── feedback_main.py  # 问题反馈窗口的实现
│       └── main_window.py  # 主窗口实现，包含主要功能代码
└── utils.py  # 工具函数模块
```

---

## 更新日志

### V1.5

### 2025-06-25

### ✨ 新增功能

1. **新增用户反馈功能**
  - ① 在菜单栏中增加用户反馈功能，用户可选择反馈类型与输入需要反馈的内容，一键提交至服务器后台，反馈文件按类别与时间戳命名
  - ② 自动服务器连接检测：点击反馈功能时会自动检测服务器连接情况
2. **新增样式修改功能**
  - ① 增加配置文件 `qt_material_theme.toml` ，可自定义软件样式参数

### ⚙️ 功能优化

1. **重构代码结构**
  - ① 拆分与调整核心功能实现函数，按功能分类归于`core`文件夹，并编写`__init__.py`统一外部接口
  - ② 拆分服务器交互与软件更新相关函数，归于`network`文件夹
  - ③ 将Gui相关界面与实现功能和拆分主文件相关部分，归于`ui`文件夹
  - ④ 配置`config.py`，将全部路径导入配置，默认参数，MAP对应与文件加载等相关函数移到此处
  - ⑤ 将工作线程归于`threads`文件夹
  - ⑥ 优化函数功能，优化配置参数与注释
2. **优化bin转图像功能**
  - ① 新增配置参数，支持更多的bin文件并能进行更精细的处理(已有参数width，height，channels，dtype)
    - channel_order: 通道顺序
    - layout: 数据排列方式
    - endianness: 字节序
    - normalize: 是否将 float 图像归一化到 0~255 并转为 uint8
    - flip: 是否垂直翻转图像
    - rotate: 是否旋转图像
  - ② 支持各通道数据图像转换
3. **优化`README.md`**
  - ① 增加功能特性、使用指南、项目结构，优化项目介绍
  - ② 新增`CHANGELOG.md`，优化更新日志

### 📜 完整更新日志

 **点此查看所有历史版本和详细改动说明：**  
🔗[查看完整更新日志 »](CHANGELOG.md)

---

## 贡献

欢迎贡献代码！

## 作者

- **ZhangYuetao** - 项目开发者
- 邮箱: zhang894171707@gmail.com